(this.webpackJsonpspinesweeper=this.webpackJsonpspinesweeper||[]).push([[0],{12:function(e,i,n){},13:function(e,i,n){},16:function(e,i,n){},17:function(e,i,n){},19:function(e,i,n){"use strict";n.r(i);var t,l=n(1),s=n.n(l),o=n(6),c=n.n(o),r=(n(12),n(7)),u=(n(13),n(2)),a=n(3),d=n(5),h=n.n(d);!function(e){e[e.Unclicked=0]="Unclicked",e[e.Clicked=1]="Clicked",e[e.Flagged=2]="Flagged",e[e.Questioned=3]="Questioned",e[e.UnclickedMine=4]="UnclickedMine",e[e.ClickedMine=5]="ClickedMine",e[e.FlaggedMine=6]="FlaggedMine",e[e.QuestionedMine=7]="QuestionedMine",e[e.Invalid=8]="Invalid"}(t||(t={}));t.Unclicked,t.Clicked,t.Flagged,t.Questioned;var g=[t.UnclickedMine,t.ClickedMine,t.FlaggedMine,t.QuestionedMine],f=[t.Unclicked,t.UnclickedMine,t.Flagged,t.FlaggedMine,t.Questioned,t.QuestionedMine],k=[t.Flagged,t.FlaggedMine],m=[t.Unclicked,t.Flagged,t.Questioned],C=(t.Clicked,t.ClickedMine,function(){function e(){Object(u.a)(this,e),this._isClicked=!1,this._isMine=!1,this._isFlagged=!1,this._isQuestioned=!1}return Object(a.a)(e,[{key:"cellState",get:function(){return this._isClicked?this._isMine?t.ClickedMine:t.Clicked:this._isMine?this._isFlagged?t.FlaggedMine:this._isQuestioned?t.QuestionedMine:t.UnclickedMine:this._isFlagged?t.Flagged:this._isQuestioned?t.Questioned:t.Unclicked}},{key:"click",value:function(){this._isFlagged||this._isQuestioned||(this._isClicked=!0)}},{key:"rightClick",value:function(){this._isClicked||(this._isFlagged?(this._isFlagged=!1,this._isQuestioned=!0):this._isQuestioned?this._isQuestioned=!1:this._isFlagged=!0)}},{key:"isMine",set:function(e){this._isMine=e}}]),e}()),v=[{row:0,column:1},{row:1,column:0},{row:0,column:-1},{row:-1,column:0},{row:1,column:1},{row:-1,column:-1},{row:1,column:-1},{row:-1,column:1}],b=function(){function e(i,n,t){Object(u.a)(this,e),this.rows=void 0,this.columns=void 0,this.mines=void 0,this.board=void 0,this.validateInputs(i,n,t),this.rows=i,this.columns=n,this.mines=0,this.board=this.createInternalBoard(t),this.addMines(t)}return Object(a.a)(e,[{key:"size",value:function(){return this.rows*this.columns}},{key:"click",value:function(e){var i=this.getCellState(e);return i===t.Unclicked?this.floodfill(e):i===t.UnclickedMine?this.explode():this.isFullyFlaggedCell(e)&&this.clickAllNeighbors(e),h.a.cloneDeep(this)}},{key:"rightClick",value:function(e){var i=this.getCell(e);return f.includes(i.cellState)?i.rightClick():this.isFullyFlaggedCell(e)&&this.clickAllNeighbors(e),h.a.cloneDeep(this)}},{key:"clickAllNeighbors",value:function(e){var i=this;this.getInBoundNeighbors(e).forEach((function(e){i.getCellState(e)===t.UnclickedMine?i.explode():i.floodfill(e)}))}},{key:"getCellNumNeighborMines",value:function(e){var i=this;return this.isCellInBounds(e)?this.getInBoundNeighbors(e).map((function(e){return i.isMineCell(e)})).filter(Boolean).length:0}},{key:"getCellNumNeighborFlags",value:function(e){var i=this;return this.isCellInBounds(e)?this.getInBoundNeighbors(e).map((function(e){return i.isFlaggedCell(e)})).filter(Boolean).length:0}},{key:"getCell",value:function(e){if(!this.isCellInBounds(e))throw Error("Cell out of bounds");return this.board[e.row][e.column]}},{key:"getCellState",value:function(e){if(!this.isCellInBounds(e))throw Error("Cell out of bounds");return this.board[e.row][e.column].cellState}},{key:"floodfill",value:function(e){var i=this;this.getCellState(e)===t.Unclicked&&(this.getCell(e).click(),0===this.getCellNumNeighborMines(e)&&this.getInBoundNeighbors(e).forEach((function(e){i.floodfill(e)})))}},{key:"explode",value:function(){for(var e=0;e<this.rows;e++)for(var i=0;i<this.columns;i++)this.isMineCell({row:e,column:i})&&this.board[e][i].click()}},{key:"getInBoundNeighbors",value:function(e){var i=this,n=[];return v.forEach((function(t){var l={row:e.row+t.row,column:e.column+t.column};i.isCellInBounds(l)&&n.push(l)})),n}},{key:"isCellInBounds",value:function(e){return!(e.row<0||e.row>=this.rows)&&!(e.column<0||e.column>=this.columns)}},{key:"createInternalBoard",value:function(e){for(var i=Array(this.rows),n=0;n<this.rows;n++){i[n]=Array(this.columns);for(var t=0;t<this.columns;t++)i[n][t]=new C}return i}},{key:"addMines",value:function(e){for(var i=this.rows*this.columns/2,n=0;n<e&&this.mines<i;){var t=this.getRandomInt(this.rows),l=this.getRandomInt(this.columns);this.isUnclickedNonMineCell({row:t,column:l})&&(this.board[t][l].isMine=!0,n++,this.mines++)}}},{key:"isMineCell",value:function(e){return g.includes(this.getCellState(e))}},{key:"isUnclickedNonMineCell",value:function(e){return m.includes(this.getCellState(e))}},{key:"isFlaggedCell",value:function(e){return k.includes(this.getCellState(e))}},{key:"isFullyFlaggedCell",value:function(e){return this.getCellState(e)===t.Clicked&&this.getCellNumNeighborFlags(e)===this.getCellNumNeighborMines(e)}},{key:"validateInputs",value:function(e,i,n){var t=e*i/2;if(n<0||n>t)throw Error("Please provide a number of mines between 0 and ".concat(t));if(e<=0||e>100)throw Error("Please provide a number of rows between 1 and 100");if(i<=0||i>100)throw Error("Please provide a number of columns between 1 and 100")}},{key:"getRandomInt",value:function(e){return Math.floor(Math.random()*(e-1))}}]),e}(),M=(n(16),n(17),n(0));var w=function(e){var i=e.cellState,n=e.numNeighborMines;return Object(M.jsx)("div",{className:"GameCell ".concat(f.includes(i)?"unclicked":i===t.Clicked?"clicked":i===t.ClickedMine?"clicked-mine":""),children:i===t.Clicked&&n>0?String(n):i===t.ClickedMine?"\ud83d\udca3":i===t.Flagged||i===t.FlaggedMine?"\ud83d\udea9":i===t.Questioned||i===t.QuestionedMine?"\u2753":""})};var F=function(e){var i=e.gameBoard,n=e.onCellClick;return Object(M.jsx)("div",{className:"GameBoard",id:"game-board","data-testid":"game-board",children:i.board.map((function(e,t){return Object(M.jsx)("div",{className:"Row",children:e.map((function(e,l){return Object(M.jsx)("div",{className:"Cell",onClick:function(e){return n(e,{row:t,column:l})},onContextMenu:function(e){return n(e,{row:t,column:l})},children:Object(M.jsx)(w,{cellState:i.getCellState({row:t,column:l}),numNeighborMines:i.getCellNumNeighborMines({row:t,column:l})})},l)}))},t)}))})};document.addEventListener("contextmenu",(function(e){e.preventDefault()}));var y=function(){var e=Object(l.useState)(new b(20,20,50)),i=Object(r.a)(e,2),n=i[0],t=i[1];return Object(M.jsx)("div",{className:"App",children:Object(M.jsx)("header",{className:"App-header",children:Object(M.jsx)(F,{gameBoard:n,onCellClick:function(e,i){if("click"===e.type){var l=n.click(i);t(l)}else if("contextmenu"===e.type){var s=n.rightClick(i);t(s)}}})})})},p=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,20)).then((function(i){var n=i.getCLS,t=i.getFID,l=i.getFCP,s=i.getLCP,o=i.getTTFB;n(e),t(e),l(e),s(e),o(e)}))};c.a.render(Object(M.jsx)(s.a.StrictMode,{children:Object(M.jsx)(y,{})}),document.getElementById("root")),p()}},[[19,1,2]]]);
//# sourceMappingURL=main.40b729e4.chunk.js.map