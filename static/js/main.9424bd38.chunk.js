(this.webpackJsonpspinesweeper=this.webpackJsonpspinesweeper||[]).push([[0],{12:function(e,n,i){},13:function(e,n,i){},16:function(e,n,i){},17:function(e,n,i){},19:function(e,n,i){"use strict";i.r(n);var t,o=i(1),l=i.n(o),c=i(4),r=i.n(c),s=(i(12),i(7)),u=(i(13),i(5)),a=i(6),d=i(3),h=i.n(d);!function(e){e[e.Unclicked=0]="Unclicked",e[e.Clicked=1]="Clicked",e[e.UnclickedMine=2]="UnclickedMine",e[e.ClickedMine=3]="ClickedMine"}(t||(t={}));var m=[t.Unclicked,t.Clicked],f=[t.UnclickedMine,t.ClickedMine],k=[t.Unclicked,t.UnclickedMine],v=[t.Unclicked],C=[t.Clicked,t.ClickedMine],w=[{row:0,column:1},{row:1,column:0},{row:0,column:-1},{row:-1,column:0},{row:1,column:1},{row:-1,column:-1},{row:1,column:-1},{row:-1,column:1}],b=function(){function e(n,i,t){Object(u.a)(this,e),this.rows=void 0,this.columns=void 0,this.mines=void 0,this.board=void 0,this.validateInputs(n,i,t),this.rows=n,this.columns=i,this.mines=0,this.board=this.createInternalBoard(t),this.addMines(t)}return Object(a.a)(e,[{key:"size",value:function(){return this.rows*this.columns}},{key:"click",value:function(e){var n=this.getCellState(e);return C.includes(n)?this:(n===t.Unclicked&&this.floodfill(e),n===t.UnclickedMine?(this.explode(),h.a.cloneDeep(this)):h.a.cloneDeep(this))}},{key:"getCellNumNeighborMines",value:function(e){var n=this;return this.isCellInBounds(e)?this.getInBoundNeighbors(e).map((function(e){return n.isMineCell(e)})).filter(Boolean).length:0}},{key:"getCellState",value:function(e){if(!this.isCellInBounds(e))throw Error("Cell out of bounds");return this.board[e.row][e.column]}},{key:"floodfill",value:function(e){var n=this;this.getCellState(e)===t.Unclicked&&(this.board[e.row][e.column]=t.Clicked,0===this.getCellNumNeighborMines(e)&&this.getInBoundNeighbors(e).forEach((function(e){n.floodfill(e)})))}},{key:"explode",value:function(){for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.isMineCell({row:e,column:n})&&(this.board[e][n]=t.ClickedMine)}},{key:"getInBoundNeighbors",value:function(e){var n=this,i=[];return w.forEach((function(t){var o={row:e.row+t.row,column:e.column+t.column};n.isCellInBounds(o)&&i.push(o)})),i}},{key:"isCellInBounds",value:function(e){return!(e.row<0||e.row>=this.rows)&&!(e.column<0||e.column>=this.columns)}},{key:"createInternalBoard",value:function(e){for(var n=Array(this.rows),i=0;i<this.rows;i++){n[i]=Array(this.columns);for(var o=0;o<this.columns;o++)n[i][o]=t.Unclicked}return n}},{key:"addMines",value:function(e){for(var n=this.rows*this.columns/2,i=0;i<e&&this.mines<n;){var o=this.getRandomInt(this.rows),l=this.getRandomInt(this.columns);this.isUnclickedNonMineCell({row:o,column:l})&&(this.board[o][l]=t.UnclickedMine,i++,this.mines++)}}},{key:"isMineCell",value:function(e){return f.includes(this.getCellState(e))}},{key:"isUnclickedNonMineCell",value:function(e){return v.includes(this.getCellState(e))}},{key:"isNonMineCell",value:function(e){return m.includes(this.getCellState(e))}},{key:"validateInputs",value:function(e,n,i){var t=e*n/2;if(i<0||i>t)throw Error("Please provide a number of mines between 0 and ".concat(t));if(e<=0||e>100)throw Error("Please provide a number of rows between 1 and 100");if(n<=0||n>100)throw Error("Please provide a number of columns between 1 and 100")}},{key:"getRandomInt",value:function(e){return Math.floor(Math.random()*(e-1))}}]),e}(),g=(i(16),i(17),i(0));var M=function(e){var n=e.cellState,i=e.numNeighborMines;return Object(g.jsx)("div",{className:"GameCell ".concat(k.includes(n)?"unclicked":n===t.Clicked?"clicked":n===t.ClickedMine?"clicked-mine":""),children:n===t.Clicked&&i>0?String(i):n===t.ClickedMine?"\ud83d\udca3":""})};var p=function(e){var n=e.gameBoard,i=e.onCellClick;return Object(g.jsx)("div",{className:"GameBoard",id:"board",children:n.board.map((function(e,t){return Object(g.jsx)("div",{className:"Row",children:e.map((function(e,o){return Object(g.jsx)("div",{className:"Cell",onClick:function(){return i({row:t,column:o})},children:Object(g.jsx)(M,{cellState:n.getCellState({row:t,column:o}),numNeighborMines:n.getCellNumNeighborMines({row:t,column:o})})},o)}))},t)}))})};var j=function(){var e=Object(o.useState)(new b(20,20,50)),n=Object(s.a)(e,2),i=n[0],t=n[1];return Object(g.jsx)("div",{className:"App",children:Object(g.jsx)("header",{className:"App-header",children:Object(g.jsx)(p,{gameBoard:i,onCellClick:function(e){var n=i.click(e);console.log(n.board),t(n)}})})})},N=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,20)).then((function(n){var i=n.getCLS,t=n.getFID,o=n.getFCP,l=n.getLCP,c=n.getTTFB;i(e),t(e),o(e),l(e),c(e)}))};r.a.render(Object(g.jsx)(l.a.StrictMode,{children:Object(g.jsx)(j,{})}),document.getElementById("root")),N()}},[[19,1,2]]]);
//# sourceMappingURL=main.9424bd38.chunk.js.map